### 高速缓冲存储器

-   cache的工作原理
    
    -   局部性原理
        
    -   主存地址和cache地址（P166 图7.2）
        
    -   块长
        
        -   块长一般取一个主存周期所能调出的信息长度（一般为16个字）
            
    -   cache的容量和块的大小是影响cache的效率的重要因素
        
    -   命中率
        
        -   CPU所要访问的信息是否在cache中的比率，而将所要访问的信息不在cache中的比率称为失败率
            
    -   一致性策略
        
        -   标志交换方式（写回法）
            
        -   通过式写入（写通法）
            
        -   写操作直接对主存进行，而不写入cache
            
    -   cache的存取时间
        
        -   平均存取时间=h*tc+(1-h)(tc+tm)
            
    -   最好替换策略
        
        -   按照被替换的字块是下一段时间最少使用的，由替换部件实现
            
-   cache组织
    
    -   地址映像
        
        -   直接映像
            
            -   cache中许多空的位置被浪费
                
            -   主存地址：主存字块标记+cache字块地址+字块内地址
                
        -   全相联映像
            
            -   成本太高而不能采用
                
            -   主存地址：主存字块标记+字块内地址
                
            -   优点
                
                -   方式灵活，缩小了块发生冲突的概率
                    
            -   缺点
                
                -   增加了标识位位数
                    
                -   增加了寻找主存块在cache中对应块的时间
                    
        -   组相联映像
            
            -   直接映像和全相联映像的折衷
                
            -   主存地址：主存字块标记+组地址+块内地址
                
