# Principle-of-Computer-Composition



# 计算机组成
[[计算机系统概论]]

## 第一章 计算机系统概论

### 冯诺依曼型计算机特点

-   1.计算机由运算器，控制器，存储器，输入和输出设备5部分组成
    
-   2.采用存储程序的方式，程序和数据放在同一个存储器中，并以二进制表示。
    
-   3.指令由操作码和地址码组成
    
-   4.指令在存储器中按执行顺序存放，由指令计数器(即程序计数器PC)指明要执行的指令所在的储存单元地址，一般按顺序递增，但可按运算结果或外界条件而改变
    
-   5.机器以运算器为中心，输入输出设备与存储器间的数据传送都通过运算器
    

### 区别以运算器为中心的计算机还是存储器的方法

-   看输入设备能否直接与存储器相连，是的话就是以存储器为中心
    

### 计算机系统

-   硬件
    
    -   结构
        
        -   主机
            
            -   cpu
                
                -   ALU运算器
                    
                -   CU控制器
                    
            -   存储器
                
                -   主存
                    
                -   辅存
                    
        -   I/O
            
            -   输入设备
                
            -   输出设备
                
    -   主要技术指标
        
        -   机器字长
            
            -   CPU一次能处理的数据位数
                
        -   存储容量
            
            -   存储容量＝存储单元个数×存储字长
                
        -   运算速度
            
            -   单位时间执行指令的平均条数，MIPS
                
-   软件
    
    -   系统软件
        
        -   用来管理整个计算机系统
            
            -   语言处理程序
                
            -   操作系统
                
            -   服务性程序
                
            -   数据库管理系统
                
            -   网络软件
                
    -   应用软件
        
        -   按任务需要编制成的各种程序
            

[[数据的表示]]
## 第三章 运算方法和运算部件

[[数据校验]]
[[主存储器]]
[[指令系统]]
[[中央处理器]]


## 第七章：存储系统

### 存储系统的层次结构

-   cache->主存->辅存
    

[[cache缓存]]

### 高速缓冲存储器

-   cache的工作原理
    
    -   局部性原理
        
    -   主存地址和cache地址（P166 图7.2）
        
    -   块长
        
        -   块长一般取一个主存周期所能调出的信息长度（一般为16个字）
            
    -   cache的容量和块的大小是影响cache的效率的重要因素
        
    -   命中率
        
        -   CPU所要访问的信息是否在cache中的比率，而将所要访问的信息不在cache中的比率称为失败率
            
    -   一致性策略
        
        -   标志交换方式（写回法）
            
        -   通过式写入（写通法）
            
        -   写操作直接对主存进行，而不写入cache
            
    -   cache的存取时间
        
        -   平均存取时间=h*tc+(1-h)(tc+tm)
            
    -   最好替换策略
        
        -   按照被替换的字块是下一段时间最少使用的，由替换部件实现
            
-   cache组织
    
    -   地址映像
        
        -   直接映像
            
            -   cache中许多空的位置被浪费
                
            -   主存地址：主存字块标记+cache字块地址+字块内地址
                
        -   全相联映像
            
            -   成本太高而不能采用
                
            -   主存地址：主存字块标记+字块内地址
                
            -   优点
                
                -   方式灵活，缩小了块发生冲突的概率
                    
            -   缺点
                
                -   增加了标识位位数
                    
                -   增加了寻找主存块在cache中对应块的时间
                    
        -   组相联映像
            
            -   直接映像和全相联映像的折衷
                
            -   主存地址：主存字块标记+组地址+块内地址
                

[[虚存]]
### 虚拟存储器

-   存储管理部件（MMU）
    
    -   现代计算机一般都有辅助存储器，但具有辅存的存储系统不一定是虚拟存储系统
        
    -   虚拟存储系统的特点
        
        -   允许用户程序用比主存大的多的空间来访问主存
            
        -   每次访存都要进行虚实地址的转换
            

[[辅助存储器]]
## 第八章：辅助存储器

### 半导体存储器可随机访问任一单元，而辅助存储器一般为串行访问存储器

### 辅助存储器的种类

-   磁表面存储器
    
    -   数字式磁记录
        
        -   硬盘、软盘和磁带
            
    -   模拟式磁记录
        
        -   录音、录像设备
            
-   光存储器
    
    -   光盘
        

### 串行存储器

-   顺序存取存储器
    
-   直接存取存储器
    

### 辅助存储器的技术指标

-   存储密度
    
    -   定义：单位长度或单位面积磁层表面磁层所存储的二进制信息量
        
    -   道密度
        
        -   沿磁盘半径方向单位长度的磁道数称为道密度，单位为道/英寸tpi或道/毫米tpmm
            
    -   位密度或线密度
        
        -   单位长度磁道所能记录二进制信息的位数叫位密度或线密度，单位为位/英寸bpi或位/毫米bpmm
            
    -   每个磁道所存储的信息量是一样的
        
-   存储容量
    
    -   C = n × k × s
        
-   寻址时间
    
    -   平均寻址时间Ta=平均找道时间Ts+平均等待时间Tw
        
    -   辅存的速度
        
        -   寻址时间
            
        -   磁头读写时间
            
-   数据传输率
    
    -   Dr = D × V
        
-   误码率
    
-   价格
    

### 硬磁盘存储器的类型

-   (1) 固定磁头和移动磁头
    
-   (2) 可换盘和固定盘
    

### 磁盘存储器

-   温彻斯特磁盘简称温盘
    
-   磁盘存储器由驱动器（HDD），控制器（HDC）和盘片组成
    
-   最外面的同心圆叫0磁道，最里面的同心圆假设称为n磁道
    
-   驱动器的定位驱动系统实现快速精准的磁头定位
    
-   主轴系统的作用是带动盘片按额定转速稳定旋转
    
-   数据控制系统的作用是控制数据的写入和读出，包括寻址，磁头旋转，写电流控制，读出放大，数据分离
    
-   磁盘控制器有两个方向的接口
    
    -   与主机的接口
        
    -   与驱动器（设备）的接口
        

### 光盘

-   采用光存储技术
    
    -   利用激光写入和读出
        
    -   第一代光存储技术
        
        -   采用非磁性介质
            
            -   不可擦写
                
    -   第二代光存储技术
        
        -   采用磁性介质
            
            -   可擦写
                
-   光盘的存储原理
    
    -   只读型和只写一次型
        
        -   热作用（物理或化学变化）
            
    -   可擦写光盘
        
        -   热磁效应
            

[[IO和中断]]
## 第九/十章：输出输出（I/O）设备/系统

### 设备控制器（I/O）的基本功能

-   实现主机和外部设备之间的数据传送
    
-   实现数据缓冲，以达到主机同外部设备之间的速度匹配
    
-   接受主机的命令，提供设备接口的设备，并按照主机的命令控制设备
    

### I/O 编址方式

-   (1) 统一编址：用取数、存数指令
    
-   (2) 不统一编址：有专门的 I/O 指令
    

### I/O 与主机的连接方式

-   辐射式连接
    
    -   每台设备都配有一套
        
    -   控制线路和一组信号线
        
    -   不便于增删设备
        
-   总线连接
    
    -   便于增删设备
        

### I/O设备

-   人机交互设备
    
    -   键盘、鼠标等
        
-   计算机信息的驻留设备
    
    -   硬盘、光盘等
        
-   机——机通信设备
    
    -   MODEN等
        

### 为什么要设置接口？

-   1.  实现设备的选择
        
-   2.  实现数据缓冲达到速度匹配
        
-   3.  实现数据串 并格式转换
        
-   4.  实现电平转换
        
-   5.  传送控制命令
        
-   6.  反映设备的状态
        
    
    -   （“忙”、“就绪”、“中断请求”）
        

### 中断服务程序的流程

-   (1) 保护现场
    
    -   程序断点的保护
        
    -   寄存器内容的保护
        
-   (2) 中断服务
    
    -   对不同的 I/O 设备具有不同内容的设备服务
        
-   (3) 恢复现场
    
    -   出栈指令
        
-   (4) 中断返回
    
    -   中断返回指令
        

### 单重中断和多重中断

-   单重 中断
    
    -   不允许中断 现行的 中断服务程序
        
-   多重 中断
    
    -   允许级别更高 的中断源
        
    -   中断 现行的 中断服务程序
        

### DMA 方式

-   主存和 I/O 之间有一条直接数据通道
    
-   CPU 和 I/O 并行工作
    
-   DMA 的三种工作方式
    
    -   (1) CPU暂停方式
        
    -   (2) CPU周期窃取方式
        
    -   (3)直接访问存储器
        
-   DMA 接口功能
    
    -   (1) 向 CPU 申请 DMA 传送
        
    -   (2) 处理总线 控制权的转交
        
    -   (3) 管理 系统总线、控制 数据传送
        
    -   (4) 确定 数据传送的 首地址和长度，修正 传送过程中的数据地址和长度
        
    -   (5) DMA 传送结束时，给出操作完成信号
        
-   DMA 传送过程
    
    -   预处理、数据传送、后处理
        

### 外设接口

-   设备与主机相连时，必须按照规定的物理互连特性、电气特性等进行连接，这些特性的技术规范称为接口标准